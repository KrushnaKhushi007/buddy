#!/usr/bin/env node

var program = require('commander'),
	Builder = require('../lib/builder');

program
	.version('0.3.0')
	.option('-c, --compress', 'compress output for production deployment')
	.option('-b, --bare', 'exclude the module loading code from all concatenated targets');
 
program
	.command('compile [config]')
	.description('compile js and css sources')
	.action(function(config){
		new Builder().compile(config);
});

program
	.command('watch [config]')
	.description('watch js and css source files and compile changes')
	.action(function(){
		new Builder().watch(config);
});
 
program
	.command('deploy [config]')
	.description('compile compressed js and css sources')
	.action(function(){
		new Builder(config).deploy(config);
});

program.parse(process.argv);